<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è•¨ç© | æ•¸æ“šç®¡ç†å¾Œå°</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-xl mx-auto space-y-8">
        <div class="bg-white p-6 rounded-2xl shadow">
            <h2 class="text-xl font-bold text-green-700 mb-4">ğŸŒ¿ è¾²å ´é€²å‡ºè²¨ç™»éŒ„</h2>
            <form id="farmForm" class="space-y-3">
                <input type="text" id="batch_number" placeholder="æ‰¹è™Ÿ (å¦‚: B20260224)" class="w-full border p-2 rounded">
                <input type="text" id="plant_name" placeholder="æ¤ç‰©å“ç¨®" class="w-full border p-2 rounded">
                <div class="grid grid-cols-2 gap-2">
                    <input type="date" id="in_date" class="border p-2 rounded">
                    <input type="date" id="out_date" class="border p-2 rounded">
                </div>
                <input type="text" id="photo_url" placeholder="ç…§ç‰‡ç¶²å€ (æš«æ™‚æ‰‹å‹•è¼¸å…¥)" class="w-full border p-2 rounded">
                <button type="button" onclick="submitFarm()" class="w-full bg-green-600 text-white py-2 rounded">å„²å­˜è¾²å ´æ•¸æ“š</button>
            </form>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow">
            <h2 class="text-xl font-bold text-blue-700 mb-4">ğŸ—ï¸ æ–°å¢å»ºæ¡ˆè³‡æ–™</h2>
            <form id="projectForm" class="space-y-3">
                <input type="text" id="p_name" placeholder="å»ºæ¡ˆåç¨±" class="w-full border p-2 rounded">
                <input type="number" id="p_area" placeholder="å»ºç½®å¹³æ–¹ç±³" class="w-full border p-2 rounded">
                <input type="number" id="p_plants" placeholder="æ¤æ ½ç¸½æ•¸é‡" class="w-full border p-2 rounded">
                <label class="flex items-center space-x-2">
                    <input type="checkbox" id="p_recycled"> <span>ä½¿ç”¨å¾ªç’°è³‡æ</span>
                </label>
                <button type="button" onclick="submitProject()" class="w-full bg-blue-600 text-white py-2 rounded">å»ºç«‹æ¡ˆå ´</button>
            </form>
        </div>
    </div>

    <script>
        async function submitFarm() {
            const data = {
                batch_number: document.getElementById('batch_number').value,
                plant_name: document.getElementById('plant_name').value,
                in_stock_date: document.getElementById('in_date').value,
                out_stock_date: document.getElementById('out_date').value,
                photo_url: document.getElementById('photo_url').value
            };
            await fetch('/api/add_farm', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(data) });
            alert('è¾²å ´æ•¸æ“šå·²å­˜æª”');
        }

        async function submitProject() {
            const data = {
                project_name: document.getElementById('p_name').value,
                area_sqm: parseFloat(document.getElementById('p_area').value),
                plant_total_count: parseInt(document.getElementById('p_plants').value),
                is_recycled: document.getElementById('p_recycled').checked
            };
            await fetch('/api/add_project', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(data) });
            alert('å»ºæ¡ˆå·²å»ºç«‹');
        }
    </script>
</body>
</html>
